import { useEffect, useState } from "react";
import axios from "axios";

import type User from "./Dashboard.module";
import Table from "../Common/dashborad_table/table";

function Home() {
  const [users, setUsers] = useState<User[]>([]); // âœ… Correct
  console.log("user", users);
  const [loading, setLoading] = useState<boolean>(true);
  const [error, setError] = useState<string | null>(null);

  useEffect(() => {
    const fetchUsers = async () => {
      try {
        const response = await axios.get<User[]>(
          "https://jsonplaceholder.typicode.com/todos/1"
        );
        setUsers(response.data);
        setLoading(false);
      } catch (err) {
        if (axios.isAxiosError(err) && err.message) {
          setError(err.message);
        } else {
          setError("An unexpected error occurred");
        }
        setLoading(false);
      }
    };

    fetchUsers();
  }, []);

  if (loading) return <p>Loading...</p>;
  if (error) return <p>Error: {error}</p>;

  return (
    <div className="home-sec">
      <div className="new-post-wrap">
        <div className="container">
          <div className="house-topic">
            <div className="topic-text">
              <h3>Residential Properties</h3>
              <p>
                Manage listing data efficiently for streamlined rental property
                tracking
              </p>
            </div>
            <button className="new-post">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="21"
                height="20"
                viewBox="0 0 21 20"
                fill="none"
              >
                <path
                  d="M9.44629 10.6667H5.27963C5.04351 10.6667 4.84574 10.5867 4.68629 10.4267C4.52685 10.2667 4.44685 10.0689 4.44629 9.83334C4.44574 9.59778 4.52574 9.4 4.68629 9.24C4.84685 9.08 5.04463 9 5.27963 9H9.44629V4.83334C9.44629 4.59723 9.52629 4.39945 9.68629 4.24C9.84629 4.08056 10.0441 4.00056 10.2796 4C10.5152 3.99945 10.7132 4.07945 10.8738 4.24C11.0343 4.40056 11.1141 4.59834 11.113 4.83334V9H15.2796C15.5157 9 15.7138 9.08 15.8738 9.24C16.0338 9.4 16.1135 9.59778 16.113 9.83334C16.1124 10.0689 16.0324 10.2669 15.873 10.4275C15.7135 10.5881 15.5157 10.6678 15.2796 10.6667H11.113V14.8333C11.113 15.0694 11.033 15.2675 10.873 15.4275C10.713 15.5875 10.5152 15.6672 10.2796 15.6667C10.0441 15.6661 9.84629 15.5861 9.68629 15.4267C9.52629 15.2672 9.44629 15.0694 9.44629 14.8333V10.6667Z"
                  fill="white"
                />
              </svg>
              Add New Post
            </button>
          </div>
        </div>
      </div>
      <div className="container">
        <div className="pending-approve">
          <div className="pending pa active">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
            >
              <path
                d="M17 22C15.6167 22 14.4377 21.5123 13.463 20.537C12.4883 19.5617 12.0007 18.3827 12 17C11.9993 15.6173 12.487 14.4383 13.463 13.463C14.439 12.4877 15.618 12 17 12C18.382 12 19.5613 12.4877 20.538 13.463C21.5147 14.4383 22.002 15.6173 22 17C21.998 18.3827 21.5103 19.562 20.537 20.538C19.5637 21.514 18.3847 22.0013 17 22ZM17.5 16.8V14.5C17.5 14.3667 17.45 14.25 17.35 14.15C17.25 14.05 17.1333 14 17 14C16.8667 14 16.75 14.05 16.65 14.15C16.55 14.25 16.5 14.3667 16.5 14.5V16.775C16.5 16.9083 16.525 17.0377 16.575 17.163C16.625 17.2883 16.7 17.4007 16.8 17.5L18.325 19.025C18.425 19.125 18.5417 19.175 18.675 19.175C18.8083 19.175 18.925 19.125 19.025 19.025C19.125 18.925 19.175 18.8083 19.175 18.675C19.175 18.5417 19.125 18.425 19.025 18.325L17.5 16.8ZM5 21C4.45 21 3.97933 20.8043 3.588 20.413C3.19667 20.0217 3.00067 19.5507 3 19V5C3 4.45 3.196 3.97933 3.588 3.588C3.98 3.19667 4.45067 3.00067 5 3H9.175C9.35833 2.41667 9.71667 1.93767 10.25 1.563C10.7833 1.18833 11.3667 1.00067 12 1C12.6667 1 13.2627 1.18767 13.788 1.563C14.3133 1.93833 14.6673 2.41733 14.85 3H19C19.55 3 20.021 3.196 20.413 3.588C20.805 3.98 21.0007 4.45067 21 5V9C21 9.28333 20.904 9.521 20.712 9.713C20.52 9.905 20.2827 10.0007 20 10C19.7173 9.99933 19.48 9.90333 19.288 9.712C19.096 9.52067 19 9.28333 19 9V5H17V7C17 7.28333 16.904 7.521 16.712 7.713C16.52 7.905 16.2827 8.00067 16 8H8C7.71667 8 7.47933 7.904 7.288 7.712C7.09667 7.52 7.00067 7.28267 7 7V5H5V19H9.5C9.78333 19 10.021 19.096 10.213 19.288C10.405 19.48 10.5007 19.7173 10.5 20C10.4993 20.2827 10.4033 20.5203 10.212 20.713C10.0207 20.9057 9.78333 21.0013 9.5 21H5ZM12 5C12.2833 5 12.521 4.904 12.713 4.712C12.905 4.52 13.0007 4.28267 13 4C12.9993 3.71733 12.9033 3.48 12.712 3.288C12.5207 3.096 12.2833 3 12 3C11.7167 3 11.4793 3.096 11.288 3.288C11.0967 3.48 11.0007 3.71733 11 4C10.9993 4.28267 11.0953 4.52033 11.288 4.713C11.4807 4.90567 11.718 5.00133 12 5Z"
                fill="#1F3B73"
              />
            </svg>
            <a href="">Pending Requests</a>
          </div>
          <div className="approve pa">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
            >
              <path
                d="M5 21C4.45 21 3.97933 20.8043 3.588 20.413C3.19667 20.0217 3.00067 19.5507 3 19V5C3 4.45 3.196 3.97933 3.588 3.588C3.98 3.19667 4.45067 3.00067 5 3H9.175C9.35833 2.41667 9.71667 1.93767 10.25 1.563C10.7833 1.18833 11.3667 1.00067 12 1C12.6667 1 13.2627 1.18767 13.788 1.563C14.3133 1.93833 14.6673 2.41733 14.85 3H19C19.55 3 20.021 3.196 20.413 3.588C20.805 3.98 21.0007 4.45067 21 5V9C21 9.28333 20.904 9.521 20.712 9.713C20.52 9.905 20.2827 10.0007 20 10C19.7173 9.99933 19.48 9.90333 19.288 9.712C19.096 9.52067 19 9.28333 19 9V5H17V7C17 7.28333 16.904 7.521 16.712 7.713C16.52 7.905 16.2827 8.00067 16 8H8C7.71667 8 7.47933 7.904 7.288 7.712C7.09667 7.52 7.00067 7.28267 7 7V5H5V19H9.5C9.78333 19 10.021 19.096 10.213 19.288C10.405 19.48 10.5007 19.7173 10.5 20C10.4993 20.2827 10.4033 20.5203 10.212 20.713C10.0207 20.9057 9.78333 21.0013 9.5 21H5ZM12 5C12.2833 5 12.521 4.904 12.713 4.712C12.905 4.52 13.0007 4.28267 13 4C12.9993 3.71733 12.9033 3.48 12.712 3.288C12.5207 3.096 12.2833 3 12 3C11.7167 3 11.4793 3.096 11.288 3.288C11.0967 3.48 11.0007 3.71733 11 4C10.9993 4.28267 11.0953 4.52033 11.288 4.713C11.4807 4.90567 11.718 5.00133 12 5Z"
                fill="#81868C"
              />
              <path
                d="M20.2412 12.3496C20.6006 11.9303 21.2311 11.8818 21.6504 12.2412C22.0697 12.6006 22.1182 13.2311 21.7588 13.6504L15.7588 20.6504C15.5775 20.8619 15.3164 20.9883 15.0381 20.999C14.7598 21.0096 14.4899 20.9039 14.293 20.707L11.293 17.707L11.2246 17.6309C10.9043 17.2381 10.9269 16.6591 11.293 16.293C11.6591 15.9269 12.2381 15.9043 12.6309 16.2246L12.707 16.293L14.9434 18.5293L20.2412 12.3496Z"
                fill="#81868C"
              />
            </svg>
            <a href="">Approved Listings</a>
          </div>
        </div>
      </div>

      <div className="new-listing-wrap">
        <div className="container">
          <div className="new-listing">
            <div className="h-list">
              <h3 className="fresh-list">36 Fresh Listings</h3>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="4"
                height="5"
                viewBox="0 0 4 5"
                fill="none"
              >
                <circle cx="2" cy="2.5" r="2" fill="#81868C" />
              </svg>
              <h3 className="pending-list">136 Pending Request</h3>
            </div>
            <div className="list-panel">
              <div className="search">
                <input type="search" placeholder="Search Listings" />
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                >
                  <path
                    d="M16.5268 14.4661L15.9929 13.9394L14.9394 15.0071L15.4732 15.5339L16.5268 14.4661ZM20.0035 20.0036C20.2984 20.2945 20.7732 20.2913 21.0642 19.9965C21.3551 19.7016 21.3519 19.2268 21.057 18.9358L20.0035 20.0036ZM8.20333 9.76689C8.17247 9.35383 7.8126 9.04399 7.39953 9.07485C6.98647 9.10571 6.67664 9.46558 6.7075 9.87864L8.20333 9.76689ZM10.9167 14.2454C11.3283 14.2914 11.6994 13.995 11.7454 13.5833C11.7914 13.1717 11.495 12.8006 11.0833 12.7546L10.9167 14.2454ZM16 15L15.4732 15.5339L20.0035 20.0036L20.5303 19.4697L21.057 18.9358L16.5268 14.4661L16 15ZM17 10H16.25C16.25 12.8995 13.8995 15.25 11 15.25V16V16.75C14.7279 16.75 17.75 13.7279 17.75 10H17ZM11 16V15.25C8.10051 15.25 5.75 12.8995 5.75 10H5H4.25C4.25 13.7279 7.27208 16.75 11 16.75V16ZM5 10H5.75C5.75 7.10051 8.10051 4.75 11 4.75V4V3.25C7.27208 3.25 4.25 6.27208 4.25 10H5ZM11 4V4.75C13.8995 4.75 16.25 7.10051 16.25 10H17H17.75C17.75 6.27208 14.7279 3.25 11 3.25V4ZM7.45541 9.82276L6.7075 9.87864C6.79001 10.983 7.25583 12.0239 8.02442 12.8213L8.5644 12.3008L9.10438 11.7803C8.5785 11.2347 8.25978 10.5225 8.20333 9.76689L7.45541 9.82276ZM8.5644 12.3008L8.02442 12.8213C8.79302 13.6186 9.81607 14.1223 10.9167 14.2454L11 13.5L11.0833 12.7546C10.3302 12.6705 9.63026 12.3258 9.10438 11.7803L8.5644 12.3008Z"
                    fill="#2E2E2F"
                  />
                </svg>
              </div>
              <p className="filter-link color-edit">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="20"
                  height="20"
                  viewBox="0 0 20 20"
                  fill="none"
                >
                  <path
                    d="M15.0002 3.33334H5.00023C4.07939 3.33334 3.31189 4.09168 3.53939 4.98334C3.78169 5.92821 4.22788 6.80858 4.84663 7.56266C5.46538 8.31673 6.24169 8.92623 7.12106 9.34834C7.80689 9.67668 8.33356 10.3217 8.33356 11.0817V16.1517C8.33364 16.2937 8.36999 16.4333 8.43918 16.5573C8.50837 16.6813 8.60809 16.7855 8.72889 16.8602C8.84969 16.9348 8.98755 16.9773 9.1294 16.9837C9.27125 16.9901 9.41238 16.9601 9.53939 16.8967L11.2061 16.0633C11.3445 15.9942 11.4609 15.8879 11.5423 15.7563C11.6237 15.6247 11.6668 15.4731 11.6669 15.3183V11.0817C11.6669 10.3217 12.1936 9.67668 12.8786 9.34834C13.7582 8.92642 14.5349 8.31701 15.1539 7.56292C15.773 6.80884 16.2194 5.92837 16.4619 4.98334C16.6877 4.09168 15.9194 3.33334 15.0002 3.33334Z"
                    stroke="#2E2E2F"
                    stroke-width="1.5"
                  />
                </svg>
                <a href="">Filter</a>
              </p>
              <p className="sort color-edit">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="20"
                  height="20"
                  viewBox="0 0 20 20"
                  fill="none"
                >
                  <path
                    d="M3.33334 15C3.09723 15 2.89945 14.92 2.74 14.76C2.58056 14.6 2.50056 14.4022 2.5 14.1667C2.49945 13.9311 2.57945 13.7333 2.74 13.5733C2.90056 13.4133 3.09834 13.3333 3.33334 13.3333H6.66667C6.90278 13.3333 7.10084 13.4133 7.26084 13.5733C7.42084 13.7333 7.50056 13.9311 7.5 14.1667C7.49945 14.4022 7.41945 14.6003 7.26 14.7608C7.10056 14.9214 6.90278 15.0011 6.66667 15H3.33334ZM3.33334 10.8333C3.09723 10.8333 2.89945 10.7533 2.74 10.5933C2.58056 10.4333 2.50056 10.2356 2.5 10C2.49945 9.76444 2.57945 9.56667 2.74 9.40667C2.90056 9.24667 3.09834 9.16667 3.33334 9.16667H11.6667C11.9028 9.16667 12.1008 9.24667 12.2608 9.40667C12.4208 9.56667 12.5006 9.76444 12.5 10C12.4994 10.2356 12.4194 10.4336 12.26 10.5942C12.1006 10.7547 11.9028 10.8344 11.6667 10.8333H3.33334ZM3.33334 6.66667C3.09723 6.66667 2.89945 6.58667 2.74 6.42667C2.58056 6.26667 2.50056 6.06889 2.5 5.83333C2.49945 5.59778 2.57945 5.4 2.74 5.24C2.90056 5.08 3.09834 5 3.33334 5H16.6667C16.9028 5 17.1008 5.08 17.2608 5.24C17.4208 5.4 17.5006 5.59778 17.5 5.83333C17.4994 6.06889 17.4194 6.26694 17.26 6.4275C17.1006 6.58806 16.9028 6.66778 16.6667 6.66667H3.33334Z"
                    fill="#2E2E2F"
                  />
                </svg>
                <a href="">Sort</a>
              </p>
            </div>
          </div>
        </div>
      </div>
     <Table/>
    </div>
  );
}

export default Home;
